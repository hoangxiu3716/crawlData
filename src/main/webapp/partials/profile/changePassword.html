<!-- col -->
<div class="row no-padding">
    <div class="col-xs-12 col-sm-9 col-md-9 col-lg-9">
        <h1 class="page-title txt-color-blueDark">
            <!-- PAGE HEADER -->
            <i class="fa-fw fa fa-pencil-square-o"></i>
            Passwort ändern
        </h1>
    </div>
</div>
<!-- end col -->

<form class="smart-form" name="form">
    <fieldset>
        <div class="row">
            <section class="col col-6">
                <label class="control-label col-sm-4" for="username">Benutzername</label>

                <div class="col-sm-8">
                        <input id="username" class="form-control" readonly="true" ng-model="user.username"/>
                </div>
            </section>
        </div>
        <div class="row">
            <section class="col col-6">
                <label class="control-label col-sm-4" for="currentPassword">Aktuelles Passwort</label>

                <div class="col-sm-8">
                        <input id="currentPassword" type="password" class="form-control"
                               ng-model="passwordInput.password"  name="currentPassword" value="" ng-minlength=4 ng-maxlength=255 required />
                    <div class="error-container" ng-show="form.currentPassword.$dirty && form.currentPassword.$invalid">
                      <small class="error" ng-show="form.currentPassword.$error.required">Das aktuelle Passwort ist erforderlich.</small>
                        <small class="error" ng-show="form.currentPassword.$error.minlength">Das aktuelle Passwort muss mindestens 4 Zeichen lang sein.</small>
                        <small class="error" ng-show="form.currentPassword.$error.maxlength">Das aktuelle Passwort darf nicht l&auml;nger als 255 Zeichen sein.</small>
                    </div>
                </div>
            </section>
        </div>
        <div class="row">
            <section class="col col-6">
                <label class="control-label col-sm-4" for="newPassword">Neues Passwort</label>

                <div class="col-sm-8">
                        <input id="newPassword" type="password" class="form-control"
                               ng-model="passwordInput.newPassword"  name="newPassword" pw-change-check="currentPassword" ng-minlength=4 ng-maxlength=255 required />
                    <div class="error-container" ng-show="form.newPassword.$dirty && form.newPassword.$invalid">
                       <small class="error" ng-show="form.newPassword.$error.required">Das neues Passwort ist erforderlich.</small>
                        <small class="error" ng-show="form.newPassword.$error.minlength">Das neues Passwort muss mindestens 4 Zeichen lang sein.</small>
                        <small class="error" ng-show="form.newPassword.$error.maxlength">Das neues Passwort darf nicht l&auml;nger als 255 Zeichen sein.</small>
                        <small class="error" ng-show="form.newPassword.$error.pwChangeMatch">Das neues Passwort ist das gleiche wie aktuelle Passwort ein.</small>
                   </div>
                </div>
            </section>
        </div>
        <div class="row">
            <section class="col col-6">
                <label class="control-label col-sm-4" for="newPassword">Passwort bestätigen</label>
                <div class="col-sm-8">
                        <input id="repeatPassword" type="password" class="form-control"
                               ng-model="passwordInput.repeatPassword" name="repeatPassword" pw-check="newPassword"  ng-minlength=4 ng-maxlength=255 required/>
                    <div class="error-container"  ng-show="form.repeatPassword.$dirty && form.repeatPassword.$invalid">
                       <small class="error" ng-show="form.repeatPassword.$error.required">Bitte best&auml;tigen Sie das Passwort</small>
                        <small class="error" ng-show="form.repeatPassword.$error.minlength">Das Passwort muss mindestens 4 Zeichen lang sein.</small>
                        <small class="error" ng-show="form.repeatPassword.$error.maxlength">DasPasswort darf nicht l&auml;nger als 255 Zeichen sein.</small>
                        <small class="error" ng-show="form.repeatPassword.$error.pwmatch">Die Passw&ouml;rter stimmen nicht &uuml;berein.</small>
                    </div>
                </div>
            </section>
        </div>
    </fieldset>

    <footer>
        <div class="col col-6">
            <input type="submit" value="Speichern" class="btn btn-primary pull-right" ng-disabled="form.$invalid" ng-click="changePassword()"/>
        </div>
    </footer>
</form>
